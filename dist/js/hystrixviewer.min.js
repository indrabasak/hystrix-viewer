var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.checkStringArgs=function(a,c,d){if(null==a)throw new TypeError("The 'this' value for String.prototype."+d+" must not be null or undefined");if(c instanceof RegExp)throw new TypeError("First argument to String.prototype."+d+" must not be a regular expression");return a+""};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,c,d){a!=Array.prototype&&a!=Object.prototype&&(a[c]=d.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,c,d,f){if(c){d=$jscomp.global;a=a.split(".");for(f=0;f<a.length-1;f++){var e=a[f];e in d||(d[e]={});d=d[e]}a=a[a.length-1];f=d[a];c=c(f);c!=f&&null!=c&&$jscomp.defineProperty(d,a,{configurable:!0,writable:!0,value:c})}};
$jscomp.polyfill("String.prototype.startsWith",function(a){return a?a:function(c,d){var a=$jscomp.checkStringArgs(this,c,"startsWith");c+="";var e=a.length,h=c.length;d=Math.max(0,Math.min(d|0,a.length));for(var g=0;g<h&&d<e;)if(a[d++]!=c[g++])return!1;return g>=h}},"es6-impl","es3");
(function(a,c,d){function f(a,m,t){this.circuitDivId=void 0;this.circuitKey=a;this.serviceName=m;this.methodName=t;this.suffix=this.serviceName+"_"+this.methodName;this.initialized=!1;this.jsonData=this.graphDivId=this.chartDivId=void 0;this.data={};this.graphData=[];this.render=function(){if(!this.initialized){this.circuitDivId="CIRCUIT_"+this.suffix;var b=c("<div></div>").attr("id",this.circuitDivId).addClass("monitor").css({position:"relative"});c("#"+n).append(b);this.addChart(b);this.addTitle(b);
this.addData(b);this.addSparkline(b);this.initialized=!0}};this.refresh=function(b){this.jsonData=b;this.calculateValues(b);this.render();this.updateCircle();this.updateData();this.updateSparkline()};this.addChart=function(b){this.chartDivId="chart_CIRCUIT_"+this.suffix;var q=c("<div></div>").attr("id",this.chartDivId).addClass("chart").css({position:"absolute",top:"0px",left:"0","float":"left",width:"100%",height:"100%"});b.append(q);this.addCircle(this.chartDivId)};this.addCircle=function(b){d.select("#"+
b).append("svg:svg").attr("width","100%").attr("height","100%").append("svg:circle").style("fill","green").attr("cx","30%").attr("cy","30%").attr("r",15)};this.updateCircle=function(){var b=u(this.data.ratePerSecondPerHost);parseInt(b,10)>parseInt("40%",10)&&(b="40%");var c=v(this.data.ratePerSecondPerHost);parseInt(c,10)>parseInt("40%",10)&&(c="40%");var a=w(this.data.ratePerSecondPerHost);125<parseInt(a,10)&&(a="125");d.selectAll("#"+this.chartDivId+" circle").transition().duration(400).attr("cy",
c).attr("cx",b).attr("r",a).style("fill",x(this.data.errorPercentage))};this.addTitle=function(b){var a=c("<div></div>").css({position:"absolute",top:"0px",width:"100%",height:"15px",opacity:"0.8",background:"white"});b.append(a);b=c("<p></p>").addClass("name").text(this.serviceName+"."+this.methodName);a.append(b)};this.addData=function(b){var a=c("<div></div>");c(a).css({position:"absolute",top:"15px",opacity:"0.8",background:"white",width:"100%",height:"95%"});b.append(a);b=c("<div></div>").attr("id",
"chart_CIRCUIT_"+this.suffix+"_monitor_data").addClass("monitor_data");a.append(b)};this.updateData=function(){if(this.initialized){var b=c("#chart_CIRCUIT_"+this.suffix+"_monitor_data");b.empty();this.addCounters(b);this.addRate(b);this.addDataTable(b)}};this.addCounters=function(b){var a=c("<div></div>").addClass("counters");b.append(a);b=c("<div></div>").addClass("cell line").html('<a href="javascript://" title="Error Percentage [Timed-out + Threadpool Rejected + Failure / Total]"class="hystrix-tooltip errorPercentage"><span class="value">'+
this.data.errorPercentage+"</span>%</a>");a.append(b);b='<a href="javascript://" title="Timed-out Request Count"class="line hystrix-tooltip timeout"><span class="value">'+this.data.rollingCountTimeout+"</span></a>";var d=this.data.rollingCountThreadPoolRejected?'<a href="javascript://" title="Threadpool Rejected Request Count"class="line hystrix-tooltip rejected"><span class="value">'+this.data.rollingCountThreadPoolRejected+"</span></a>":'<a href="javascript://" title="Semaphore Rejected Request Count"class="line hystrix-tooltip rejected"><span class="value">'+
this.data.rollingCountSemaphoreRejected+"</span></a>";var k='<a href="javascript://" title="Failure Request Count"class="line hystrix-tooltip failure"><span class="value">'+this.data.rollingCountFailure+"</span></a>";b=c("<div></div>").addClass("cell borderRight").html(b+"\n"+d+"\n"+k);a.append(b);b='<a href="javascript://" title="Successful Request Count"class="line hystrix-tooltip success"><span class="value">'+this.data.rollingCountSuccess+"</span></a>";d='<a href="javascript://" title="Short-circuited Request Count"class="line hystrix-tooltip shortCircuited"><span class="value">'+
this.data.rollingCountShortCircuited+"</span></a>";k='<a href="javascript://" title="Bad Request Count"class="line hystrix-tooltip badRequest"><span class="value">'+this.data.rollingCountBadRequests+"</span></a>";b=c("<div></div>").addClass("cell borderRight").html(b+"\n"+d+"\n"+k);a.append(b)};this.addRate=function(b){var a='<a href="javascript://" title="Total Request Rate per Second per Reporting Host"class="hystrix-tooltip rate"><span class="smaller">Host: </span><span class="ratePerSecondPerHost">'+
this.data.ratePerSecondPerHost+"</span>/s</a>",a=c("<div></div>").addClass("rate").html(a);b.append(a);a='<a href="javascript://" title="Total Request Rate per Second for Cluster"class="hystrix-tooltip rate"><span class="smaller">Cluster: </span><span class="ratePerSecond">'+this.data.ratePerSecond+"</span>/s</a>";a=c("<div></div>").addClass("rate").html(a);b.append(a)};this.addDataTable=function(b){var a=c("<div></div>").addClass("spacer");b.append(a);a=c('<div class="tableRow"><div class="cell header">Hosts</div><div class="cell data">'+
this.data.reportingHosts+' </div><div class="cell header">90th</div><div class="cell data latency90"><span class="value">'+this.data.latency90+"</span>ms </div></div>");b.append(a);a=c('<div class="tableRow"><div class="cell header">Median</div><div class="cell data latencyMedian"><span class="value">'+this.data.latencyMedian+'</span>ms </div><div class="cell header">99th</div><div class="cell data latency99"><span class="value">'+this.data.latency99+"</span>ms </div></div>");b.append(a);a=c('<div class="tableRow"><div class="cell header">Mean</div><div class="cell data latencyMean"><span class="value">'+
this.data.latencyMean+'</span>ms</div><div class="cell header">99.5th</div><div class="cell data latency995"><span class="value">'+this.data.latency995+"</span>ms</div></div>");b.append(a)};this.addSparkline=function(b){this.graphDivId="graph_CIRCUIT_"+this.suffix;var a=c("<div></div>").attr("id",this.graphDivId).addClass("graph").css({position:"absolute",top:"25px",left:"0","float":"left",width:"140px",height:"62px"});b.append(a);d.select("#"+this.graphDivId).append("svg:svg").attr("width","100%").attr("height",
"100%").append("svg:path")};this.updateSparkline=function(){var b=(new Date).getTime();for(this.graphData.push({v:parseFloat(this.data.ratePerSecond),t:b});200<this.graphData.length;)this.graphData.shift();if(1!==this.graphData.length||0!==this.graphData[0].v){1<this.graphData.length&&0===this.graphData[0].v&&0!==this.graphData[1].v&&this.graphData.shift();var a=d.scaleTime().domain([new Date(b-12E4),new Date(b)]).range([0,140]),b=d.min(this.graphData,function(b){return b.v}),c=d.max(this.graphData,
function(b){return b.v}),k=d.scaleLinear().domain([b,c]).nice().range([60,0]),e=d.line().x(function(b){return a(new Date(b.t))}).y(function(b){return k(b.v)}).curve(d.curveBasis),m=this.graphData;d.selectAll("#"+this.graphDivId+" path").attr("d",function(b,a){return e(m)})}};this.calculateValues=function(b){this.data={};var a=e(b,this.circuitKey+".propertyValue_metricsRollingStatisticalWindowInMilliseconds",0)/1E3,c=e(b,this.circuitKey+".requestCount",0);0>c&&(c=0);var d=e(b,this.circuitKey+".reportingHosts",
0);this.data.ratePerSecond=h(c/a);this.data.ratePerSecondPerHost=h(c/a/d);this.data.ratePerSecondPerHostDisplay=this.data.ratePerSecondPerHost;this.data.errorPercentage=e(b,this.circuitKey+".errorPercentage",0);this.data.rollingCountTimeout=e(this.jsonData,this.circuitKey+".rollingCountTimeout",0);b=e(this.jsonData,this.circuitKey+".rollingCountThreadPoolRejected",-20);-20===b?this.data.rollingCountSemaphoreRejected=e(this.jsonData,this.circuitKey+".rollingCountSemaphorePoolRejected",0):this.data.rollingCountThreadPoolRejected=
b;this.data.rollingCountFailure=e(this.jsonData,this.circuitKey+".rollingCountFailure",0);this.data.rollingCountSuccess=e(this.jsonData,this.circuitKey+".rollingCountSuccess",0);this.data.rollingCountShortCircuited=e(this.jsonData,this.circuitKey+".rollingCountShortCircuited",0);this.data.rollingCountBadRequests=e(this.jsonData,this.circuitKey+".rollingCountBadRequests",0);this.data.reportingHosts=e(this.jsonData,this.circuitKey+".reportingHosts",1);this.data.latency90=e(this.jsonData,this.circuitKey+
".90",0);this.data.latencyMedian=e(this.jsonData,this.circuitKey+".50",0);this.data.latency99=e(this.jsonData,this.circuitKey+".99",0);this.data.latencyMean=e(this.jsonData,this.circuitKey+".latencyExecute_mean",0);this.data.latency995=e(this.jsonData,this.circuitKey+".99.5",0)}}function e(a,c,d){if(a[g.GAUGE.type]&&(a=a[g.GAUGE.type][c]))try{if(a.value){var b=Math.pow(10,4);d=Math.round(a.value*b)/b}}catch(q){}return d}function h(a){a=(Math.round(a*Math.pow(10,1))/Math.pow(10,1)).toString();-1==
a.indexOf(".")&&(a+=".0");return a}a.addHystrixDashboard=function(a){p=a;var d=c("<div></div>").addClass("hystrix-container");c(p).append(d);a=c("<div></div>").addClass("row");c(d).append(a);d=c("<div></div>").addClass("hystrix-menubar");c(a).append(d);var e=c("<div></div>").addClass("title").text("Circuit");c(d).append(e);n="dependencies";d=c("<div></div>").attr("id",n).addClass("row").addClass("dependencies");a.append(d)};a.init=function(){for(var a=0;a<r.length;a++)r[a].render()};a.refresh=function(a){if(p){y(a);
for(var c in l)l.hasOwnProperty(c)&&l[c].refresh(a)}};a.clear=function(){};Array.prototype.clear=function(){for(;this.length;)this.pop()};var g={COUNTER:{type:"counters",xLabel:"time",yLabel:"count"},GAUGE:{type:"gauges",xLabel:"time",yLabel:"value"},METER:{type:"meters",xLabel:"time",yLabel:""},TIMER:{type:"timers",xLabel:"time",yLabel:""}};Object.freeze(g);Object.freeze(100);var r=[];Object.freeze("40%");Object.freeze("40%");Object.freeze("125");var w=d.scalePow().exponent(.5).domain([0,400]).range(["5",
"125"]),v=d.scaleLinear().domain([0,400]).range(["30%","40%"]),u=d.scaleLinear().domain([0,400]).range(["30%","40%"]),x=d.scaleLinear().domain([10,25,40,50]).range(["green","#FFCC00","#FF9900","red"]),p,n,l={},y=function(a){for(var d in a)a.hasOwnProperty(d)&&d===g.GAUGE.type&&c.each(a[g.GAUGE.type],function(a,b){a.startsWith("gauge.hystrix.HystrixCommand")&&(b=a.split("."),6==b.length&&(a=b[0]+"."+b[1]+"."+b[2]+"."+b[3]+"."+b[4],l[a]||6!=b.length||(b=new f(a,b[3],b[4]),l[a]=b)))})}})(window.hystrixViewer=
window.hystrixViewer||{},jQuery,d3);
